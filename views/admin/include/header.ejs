<header>
			<div class="topbar d-flex align-items-center">
				<nav class="navbar navbar-expand gap-3">
					<div class="mobile-toggle-menu"><i class='bx bx-menu'></i>
					</div>
					<div class="top-menu ms-auto">
						<ul class="navbar-nav align-items-center gap-1">
							<li class="nav-item mobile-search-icon d-flex d-lg-none" data-bs-toggle="modal" data-bs-target="#SearchModal">
								<a class="nav-link" href="avascript:;"><i class='bx bx-search'></i>
								</a>
							</li>
							
							<li class="nav-item dark-mode d-none d-sm-flex">
								<a class="nav-link dark-mode-icon" href="javascript:;"><i class='bx bx-moon'></i>
								</a>
							</li>
  							<li class="nav-item dropdown dropdown-large">
								<a class="nav-link dropdown-toggle dropdown-toggle-nocaret position-relative" href="#" data-bs-toggle="dropdown">
									<span class="alert-count"><%= users.length;%></span>
									<i class='bx bx-bell'></i>
								</a>
								<div class="dropdown-menu dropdown-menu-end">
									<a href="javascript:;">
										<div class="msg-header">
											<p class="msg-header-title">Users</p>
											
										</div>
									</a>
									<div class="header-notifications-list">
									<% users.forEach(user =>{ 
									
									const createdAt = new Date(user.createdAt);
									const currentTime = new Date();
									const elapsedTimeInMilliseconds = currentTime - createdAt;
									
									const elapsedSeconds = Math.floor(elapsedTimeInMilliseconds / 1000);
									const elapsedMinutes = Math.floor(elapsedSeconds / 60);
									const elapsedHours = Math.floor(elapsedMinutes / 60);
									const elapsedDays = Math.floor(elapsedHours / 24);
									const elapsedMonths = Math.floor(elapsedDays / 30);
									
									let elapsedTime = '';
									if (elapsedMonths > 0) {
										elapsedTime = elapsedMonths + (elapsedMonths === 1 ? " month" : " months");
									} else if (elapsedDays > 0) {
										elapsedTime = elapsedDays + (elapsedDays === 1 ? " day" : " days");
									} else if (elapsedHours > 0) {
										elapsedTime = elapsedHours + (elapsedHours === 1 ? " hour" : " hours");
									} else if (elapsedMinutes > 0) {
										elapsedTime = elapsedMinutes + (elapsedMinutes === 1 ? " minute" : " minutes");
									} else {
										elapsedTime = elapsedSeconds + (elapsedSeconds === 1 ? " second" : " seconds");
									}
									
									%>
										<a class="dropdown-item" href="javascript:;">
											<div class="d-flex align-items-center">
												<div class="user-offline">
													<img src="<%- user.image -%>" class="msg-avatar" alt="user avatar">
												</div>
												<div class="flex-grow-1">
													<h6 class="msg-name"><%- user.full_name -%>
													<span class="msg-time float-end">
													 <%= elapsedTime %></span></h6>
													<p class="msg-info"><%-user.address -%></p>
												</div>
											</div>
										</a>
									<% }) %>	
										
										
									</div>
									<a href="javascript:;">
										<div class="text-center msg-footer">
											<button class="btn btn-primary w-100">View All Notifications</button>
										</div>
									</a>
								</div>
							</li>
							<li class="nav-item dropdown dropdown-large">
								<a class="nav-link dropdown-toggle dropdown-toggle-nocaret position-relative" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"> <span class="alert-count">8</span>
									<i class='bx bx-shopping-bag'></i>
								</a>
								<div class="dropdown-menu dropdown-menu-end">
									<a href="javascript:;">
										<div class="msg-header">
											<p class="msg-header-title">My Cart</p>
											<p class="msg-header-badge"><%- productss.length-%> Items</p>
										</div>
									</a>
									<div class="header-message-list">
									<% 
										let total = 0;
										productss.forEach(pro =>{
										total += pro.price;
										
										%>
										<a class="dropdown-item" href="javascript:;">
											<div class="d-flex align-items-center gap-3">
												<div class="position-relative">
													<div class="cart-product rounded-circle bg-light">
														<img src="<%-pro.image-%>" class="" alt="product image">
													</div>
												</div>
												<div class="flex-grow-1">
													<h6 class="cart-product-title mb-0"><%-pro.title-%></h6>
													<p class="cart-product-price mb-0">1 X $29.00</p>
												</div>
												<div class="">
													<p class="cart-price mb-0"><%-pro.price-%></p>
												</div>
												<div class="cart-product-cancel"><i class="bx bx-x"></i>
												</div>
											</div>
										</a>
										
									<% }); %>	
										
									</div>
									<a href="javascript:;">
										<div class="text-center msg-footer">
											<div class="d-flex align-items-center justify-content-between mb-3">
												<h5 class="mb-0">Total</h5>
												<h5 class="mb-0 ms-auto"><%- total -%></h5>
											</div>
											<button class="btn btn-primary w-100">Checkout</button>
										</div>
									</a>
								</div>
							</li>
						</ul>
					</div>
					<div class="user-box dropdown px-3">
						<a class="d-flex align-items-center nav-link dropdown-toggle gap-3 dropdown-toggle-nocaret" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
							
							<div class="user-info">
								<p class="user-name mb-0" id='name'></p>
								<p class="designattion mb-0" id='name'></p>
							</div>
						</a>
						<ul class="dropdown-menu dropdown-menu-end">
							<li><a class="dropdown-item d-flex align-items-center" href="/user-profile"><i class="bx bx-user fs-5"></i><span>Profile</span></a>
							</li>
							<li><a class="dropdown-item d-flex align-items-center" href="javascript:;"><i class="bx bx-cog fs-5"></i><span>Settings</span></a>
							</li>
							<li><a class="dropdown-item d-flex align-items-center" href="javascript:;"><i class="bx bx-home-circle fs-5"></i><span>Dashboard</span></a>
							</li>
							<li><a class="dropdown-item d-flex align-items-center" href="javascript:;"><i class="bx bx-dollar-circle fs-5"></i><span>Earnings</span></a>
							</li>
							<li><a class="dropdown-item d-flex align-items-center" href="javascript:;"><i class="bx bx-download fs-5"></i><span>Downloads</span></a>
							</li>
							<li>
								<div class="dropdown-divider mb-0"></div>
							</li>
							<li><a class="dropdown-item d-flex align-items-center" href="/logout"><i class="bx bx-log-out-circle"></i><span>Logout</span></a>
							</li>
						</ul>
					</div>
				</nav>
			</div>
		</header>
		
		<script>
	 function elapsedTime(createdAt) {
            const currentTime = new Date();
            const elapsedTimeInMilliseconds = currentTime - new Date(createdAt);
            
            const elapsedSeconds = Math.floor(elapsedTimeInMilliseconds / 1000);
            const elapsedMinutes = Math.floor(elapsedSeconds / 60);
            const elapsedHours = Math.floor(elapsedMinutes / 60);
            const elapsedDays = Math.floor(elapsedHours / 24);
            const elapsedMonths = Math.floor(elapsedDays / 30);

            if (elapsedMonths > 0) {
                return elapsedMonths + (elapsedMonths === 1 ? " month" : " months");
            } else if (elapsedDays > 0) {
                return elapsedDays + (elapsedDays === 1 ? " day" : " days");
            } else if (elapsedHours > 0) {
                return elapsedHours + (elapsedHours === 1 ? " hour" : " hours");
            } else if (elapsedMinutes > 0) {
                return elapsedMinutes + (elapsedMinutes === 1 ? " minute" : " minutes");
            } else {
                return elapsedSeconds + (elapsedSeconds === 1 ? " second" : " seconds");
            }
        }
	</script>