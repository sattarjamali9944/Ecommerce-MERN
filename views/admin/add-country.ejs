<!doctype html>
<html lang="en">


<%-include('include/head-css-file.ejs')-%>


<body>
	<!--wrapper-->
	<div class="wrapper">
		<!--sidebar wrapper -->
		<%- include('./include/sidebar.ejs'); -%>
		<!--end sidebar wrapper -->
		<!--start header -->
		<%-include('./include/header.ejs')-%>
		<!--end header -->
		<!--start page wrapper -->
		<div class="page-wrapper">
			<div class="page-content">
				<!--breadcrumb-->
				<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
					<div class="breadcrumb-title pe-3">Home</div>
					<div class="ps-3">
						<nav aria-label="breadcrumb">
							<ol class="breadcrumb mb-0 p-0">
								<li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a>
								</li>
								<li class="breadcrumb-item active" aria-current="page">Add Country</li>
							</ol>
						</nav>
					</div>
				</div>
				<!--end breadcrumb-->
				<div class="row">
					<div class="col-xl-12 mx-auto">
						
							
							<div class="card-body p-4">

								<div class="card">
									<div class="row">
									</br>
										 <h3 class="mb-0 text-uppercase col-xl-9">Countries</h3>
										 <div class="d-md-flex d-grid align-items-center gap-3 float-right col-xl-3">
										 	
										 	<button type="button" class="btn btn-primary radius-30 mt-0 mt-lg-0" data-bs-toggle="modal" data-bs-target="#exampleModal"><i class="bx bxs-plus-square"></i>Add New Country</button>
										</div>
							       </div>
								
								<% if (successMessage && successMessage.length > 0) { %>
		    					<div class="alert alert-success">
		      						<%= successMessage %>
		    					</div>
		  						<% } %>

								
								

							   <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
												<div class="modal-content">
													<div class="modal-header">
														<h5 class="modal-title" id="exampleModalLabel">Add Country</h5>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
													</div>
													<div class="modal-body">
														<form class="row g-3 needs-validation" action='/add-countries' method="post" novalidate>
															<div class="col-md-12">
																<label for="bsValidation1" class="form-label">Enter Country Name </label>
																<input type="text" name='add_country' class="form-control"  placeholder="Enter Country Name" value="" >

																<p style="color: red;">
																	<%=(typeof errors!='undefined' && typeof errors.add_cat!='undefined' )? errors.add_cat.msg:''%></p>
																
															</div>
															
															
															<div class="col-md-12">
																<div class="d-md-flex d-grid align-items-center gap-3">
																	<button type="submit" class="btn btn-primary px-4">Add Country</button>
																	
																</div>
															</div>
														</form>
														
													</div>
													
												</div>
											</div>
								</div>
									
					      		<hr/>
									<div class="card-body">
										<div class="table-responsive">
											<table id="example2" class="table mb-0">
												<thead>
													<tr>
														<th>Name</th>
														<th>Country</th>
														<th>Delete /Edit</th>
													</tr>
												</thead>
												<tbody>
													<%
													let i=1;
				                                     if(countries !=""){
				                                     if (countries && countries.length > 0) { 
													 countries.forEach((item) => { %>
													<tr id='trid_<%= item._id%>'>
														<td><%= i++ %></td>
														<td><%= item.country_name %></td>
														<td>
															<div class="d-flex order-actions">
																<a data-id='<%= item._id%>' id='listCountry' class='' style='cursor: pointer;'><i class='bx bx-trash'></i></a>
																&nbsp; <a href='delete' class='' style='cursor: pointer;'><i class='bx bx-edit'></i></a>
															</div>	
														</td>
														
													</tr>

													<% });} }%>
												</tbody>
												
											</table>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!--end row-->

				
				<!--end row-->


			</div>
		</div>
		<!--end page wrapper -->
		<!--start overlay-->
		<div class="overlay toggle-icon"></div>
		<!--end overlay-->
		<!--Start Back To Top Button--> <a href="javaScript:;" class="back-to-top"><i class='bx bxs-up-arrow-alt'></i></a>
		<!--End Back To Top Button-->
		<footer class="page-footer">
			<p class="mb-0">Copyright Â© 2023. All right reserved.</p>
		</footer>
	</div>
	<!--end wrapper-->

	


	<%-include('include/footer.ejs')-%>